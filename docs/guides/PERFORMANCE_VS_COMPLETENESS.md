# ‚öñÔ∏è Performance vs Completeness Configuration

## üéØ ‡πÄ‡∏õ‡πâ‡∏≤‡∏´‡∏°‡∏≤‡∏¢: ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏Ñ‡∏£‡∏ö‡∏ñ‡πâ‡∏ß‡∏ô‡∏™‡∏°‡∏ö‡∏π‡∏£‡∏ì‡πå (‡∏ä‡πâ‡∏≤‡∏Å‡πá‡πÑ‡∏°‡πà‡πÄ‡∏õ‡πá‡∏ô‡πÑ‡∏£)

---

## üìä ‡∏Å‡∏≤‡∏£‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤‡πÉ‡∏´‡∏°‡πà

### **‡πÄ‡∏î‡∏¥‡∏° (‡πÄ‡∏ô‡πâ‡∏ô‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏£‡πá‡∏ß):**
```json
{
  "ai_extraction": {
    "api": {
      "timeout": 180,           // 3 ‡∏ô‡∏≤‡∏ó‡∏µ
      "max_retries": 2,         // ‡∏•‡∏≠‡∏á‡πÉ‡∏´‡∏°‡πà 2 ‡∏Ñ‡∏£‡∏±‡πâ‡∏á
      "max_tokens": 1500        // Response ‡∏™‡∏±‡πâ‡∏ô
    },
    "prompt_optimization": {
      "max_ocr_results": 30,    // ‡∏™‡πà‡∏á‡πÅ‡∏Ñ‡πà 30 ‡∏ö‡∏£‡∏£‡∏ó‡∏±‡∏î
      "filter_low_confidence": true,    // ‡∏Å‡∏£‡∏≠‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ó‡∏µ‡πà confidence ‡∏ï‡πà‡∏≥
      "confidence_threshold": 0.5       // ‡πÄ‡∏≠‡∏≤‡πÅ‡∏Ñ‡πà‡∏ó‡∏µ‡πà confidence > 50%
    }
  }
}
```

**‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå:**
- ‚úÖ ‡πÄ‡∏£‡πá‡∏ß (~5-10 ‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ)
- ‚ùå ‡∏≠‡∏≤‡∏à‡∏û‡∏•‡∏≤‡∏î‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ö‡∏≤‡∏á‡∏™‡πà‡∏ß‡∏ô
- ‚ùå ‡πÑ‡∏°‡πà‡∏Ñ‡∏£‡∏ö‡∏ñ‡πâ‡∏ß‡∏ô 100%

---

### **‡πÉ‡∏´‡∏°‡πà (‡πÄ‡∏ô‡πâ‡∏ô‡∏Ñ‡∏ß‡∏≤‡∏°‡∏Ñ‡∏£‡∏ö‡∏ñ‡πâ‡∏ß‡∏ô):**
```json
{
  "ai_extraction": {
    "api": {
      "timeout": 300,           // ‚úÖ 5 ‡∏ô‡∏≤‡∏ó‡∏µ (‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏à‡∏≤‡∏Å 3 ‡∏ô‡∏≤‡∏ó‡∏µ)
      "max_retries": 3,         // ‚úÖ ‡∏•‡∏≠‡∏á‡πÉ‡∏´‡∏°‡πà 3 ‡∏Ñ‡∏£‡∏±‡πâ‡∏á (‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏à‡∏≤‡∏Å 2)
      "max_tokens": 2500        // ‚úÖ Response ‡∏¢‡∏≤‡∏ß‡∏Ç‡∏∂‡πâ‡∏ô (‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏à‡∏≤‡∏Å 1500)
    },
    "prompt_optimization": {
      "max_ocr_results": 100,   // ‚úÖ ‡∏™‡πà‡∏á 100 ‡∏ö‡∏£‡∏£‡∏ó‡∏±‡∏î (‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏à‡∏≤‡∏Å 30)
      "filter_low_confidence": false,   // ‚úÖ ‡πÑ‡∏°‡πà‡∏Å‡∏£‡∏≠‡∏á (‡πÄ‡∏≠‡∏≤‡∏ó‡∏∏‡∏Å‡∏≠‡∏¢‡πà‡∏≤‡∏á)
      "confidence_threshold": 0.3       // ‚úÖ ‡∏•‡∏î‡πÄ‡∏Å‡∏ì‡∏ë‡πå (‡∏à‡∏≤‡∏Å 0.5)
    }
  }
}
```

**‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå:**
- ‚è±Ô∏è ‡∏ä‡πâ‡∏≤‡∏Ç‡∏∂‡πâ‡∏ô (~15-30 ‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ ‡∏´‡∏£‡∏∑‡∏≠‡∏°‡∏≤‡∏Å‡∏Å‡∏ß‡πà‡∏≤)
- ‚úÖ ‡πÑ‡∏î‡πâ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏Ñ‡∏£‡∏ö‡∏ñ‡πâ‡∏ß‡∏ô‡∏°‡∏≤‡∏Å‡∏Ç‡∏∂‡πâ‡∏ô
- ‚úÖ ‡πÑ‡∏°‡πà‡∏û‡∏•‡∏≤‡∏î‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç
- ‚úÖ ‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö‡πÄ‡∏≠‡∏Å‡∏™‡∏≤‡∏£‡∏¢‡∏≤‡∏ß‡πÜ

---

## üîç ‡∏Å‡∏≤‡∏£‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡πÅ‡∏õ‡∏•‡∏á‡πÅ‡∏ï‡πà‡∏•‡∏∞‡∏Ñ‡πà‡∏≤

### **1. `timeout: 180 ‚Üí 300` (3 ‡∏ô‡∏≤‡∏ó‡∏µ ‚Üí 5 ‡∏ô‡∏≤‡∏ó‡∏µ)**

**‡πÄ‡∏´‡∏ï‡∏∏‡∏ú‡∏•:**
- AI ‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡πÄ‡∏ß‡∏•‡∏≤‡∏°‡∏≤‡∏Å‡∏Ç‡∏∂‡πâ‡∏ô‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡∏õ‡∏£‡∏∞‡∏°‡∏ß‡∏•‡∏ú‡∏• OCR texts ‡∏ó‡∏µ‡πà‡πÄ‡∏¢‡∏≠‡∏∞
- ‡∏õ‡πâ‡∏≠‡∏á‡∏Å‡∏±‡∏ô timeout error

**‡∏ú‡∏•‡∏Å‡∏£‡∏∞‡∏ó‡∏ö:**
- ‚è±Ô∏è ‡∏£‡∏≠‡∏ô‡∏≤‡∏ô‡∏Ç‡∏∂‡πâ‡∏ô 2 ‡∏ô‡∏≤‡∏ó‡∏µ
- ‚úÖ ‡πÑ‡∏°‡πà‡πÄ‡∏à‡∏≠ timeout error

---

### **2. `max_retries: 2 ‚Üí 3`**

**‡πÄ‡∏´‡∏ï‡∏∏‡∏ú‡∏•:**
- ‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÇ‡∏≠‡∏Å‡∏≤‡∏™‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡∏•‡∏≠‡∏á‡πÉ‡∏´‡∏°‡πà‡∏ñ‡πâ‡∏≤ AI fail
- ‡∏•‡∏î‡πÇ‡∏≠‡∏Å‡∏≤‡∏™‡∏ó‡∏µ‡πà‡∏à‡∏∞ fail ‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î

**‡∏ú‡∏•‡∏Å‡∏£‡∏∞‡∏ó‡∏ö:**
- ‚è±Ô∏è ‡∏ñ‡πâ‡∏≤ fail ‡∏à‡∏∞‡∏£‡∏≠‡∏ô‡∏≤‡∏ô‡∏Ç‡∏∂‡πâ‡∏ô
- ‚úÖ Success rate ‡∏™‡∏π‡∏á‡∏Ç‡∏∂‡πâ‡∏ô

---

### **3. `max_tokens: 1500 ‚Üí 2500`**

**‡πÄ‡∏´‡∏ï‡∏∏‡∏ú‡∏•:**
- AI ‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ generate response ‡∏ó‡∏µ‡πà‡∏¢‡∏≤‡∏ß‡∏Ç‡∏∂‡πâ‡∏ô
- ‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö billing items ‡πÄ‡∏¢‡∏≠‡∏∞‡πÜ (10-20 ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£)
- ‡πÑ‡∏°‡πà‡∏ï‡∏±‡∏î response ‡∏Å‡∏•‡∏≤‡∏á‡∏Ñ‡∏±‡∏ô

**‡∏ú‡∏•‡∏Å‡∏£‡∏∞‡∏ó‡∏ö:**
- ‚è±Ô∏è AI ‡πÉ‡∏ä‡πâ‡πÄ‡∏ß‡∏•‡∏≤‡∏ô‡∏≤‡∏ô‡∏Ç‡∏∂‡πâ‡∏ô‡πÉ‡∏ô‡∏Å‡∏≤‡∏£ generate
- ‚úÖ ‡πÑ‡∏î‡πâ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏Ñ‡∏£‡∏ö‡∏ñ‡πâ‡∏ß‡∏ô ‡πÑ‡∏°‡πà‡∏ñ‡∏π‡∏Å‡∏ï‡∏±‡∏î
- ‚ö†Ô∏è ‡∏ï‡πâ‡∏≠‡∏á‡∏£‡∏∞‡∏ß‡∏±‡∏á context length (‡πÅ‡∏ï‡πà 2500 ‡∏¢‡∏±‡∏á‡∏≠‡∏¢‡∏π‡πà‡πÉ‡∏ô‡∏Ç‡∏≠‡∏ö‡πÄ‡∏Ç‡∏ï)

---

### **4. `max_ocr_results: 30 ‚Üí 100`**

**‡πÄ‡∏´‡∏ï‡∏∏‡∏ú‡∏•:**
- ‡∏™‡πà‡∏á OCR texts ‡πÄ‡∏¢‡∏≠‡∏∞‡∏Ç‡∏∂‡πâ‡∏ô (100 ‡∏ö‡∏£‡∏£‡∏ó‡∏±‡∏î‡πÅ‡∏£‡∏Å)
- ‡∏Ñ‡∏£‡∏≠‡∏ö‡∏Ñ‡∏•‡∏∏‡∏°‡πÄ‡∏≠‡∏Å‡∏™‡∏≤‡∏£‡∏ó‡∏µ‡πà‡∏¢‡∏≤‡∏ß (2-3 ‡∏´‡∏ô‡πâ‡∏≤)
- ‡πÑ‡∏°‡πà‡∏û‡∏•‡∏≤‡∏î‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ó‡πâ‡∏≤‡∏¢‡πÄ‡∏≠‡∏Å‡∏™‡∏≤‡∏£

**‡∏ú‡∏•‡∏Å‡∏£‡∏∞‡∏ó‡∏ö:**
- ‚è±Ô∏è Prompt ‡∏¢‡∏≤‡∏ß‡∏Ç‡∏∂‡πâ‡∏ô ‚Üí AI ‡∏õ‡∏£‡∏∞‡∏°‡∏ß‡∏•‡∏ú‡∏•‡∏ä‡πâ‡∏≤‡∏Ç‡∏∂‡πâ‡∏ô
- ‚úÖ ‡πÑ‡∏î‡πâ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏Ñ‡∏£‡∏ö‡∏ñ‡πâ‡∏ß‡∏ô‡∏°‡∏≤‡∏Å‡∏Ç‡∏∂‡πâ‡∏ô
- ‚úÖ ‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö‡πÄ‡∏≠‡∏Å‡∏™‡∏≤‡∏£‡∏´‡∏•‡∏≤‡∏¢‡∏´‡∏ô‡πâ‡∏≤

**‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á:**
```
‡πÄ‡∏î‡∏¥‡∏° (30 ‡∏ö‡∏£‡∏£‡∏ó‡∏±‡∏î):
- ‡∏´‡∏ô‡πâ‡∏≤ 1: ‡∏ö‡∏£‡∏£‡∏ó‡∏±‡∏î 1-30 ‚úÖ
- ‡∏´‡∏ô‡πâ‡∏≤ 2: ‡∏ö‡∏£‡∏£‡∏ó‡∏±‡∏î 31-60 ‚ùå (‡πÑ‡∏°‡πà‡∏™‡πà‡∏á‡πÉ‡∏´‡πâ AI)

‡πÉ‡∏´‡∏°‡πà (100 ‡∏ö‡∏£‡∏£‡∏ó‡∏±‡∏î):
- ‡∏´‡∏ô‡πâ‡∏≤ 1: ‡∏ö‡∏£‡∏£‡∏ó‡∏±‡∏î 1-30 ‚úÖ
- ‡∏´‡∏ô‡πâ‡∏≤ 2: ‡∏ö‡∏£‡∏£‡∏ó‡∏±‡∏î 31-60 ‚úÖ
- ‡∏´‡∏ô‡πâ‡∏≤ 3: ‡∏ö‡∏£‡∏£‡∏ó‡∏±‡∏î 61-90 ‚úÖ
- ‡∏´‡∏ô‡πâ‡∏≤ 4: ‡∏ö‡∏£‡∏£‡∏ó‡∏±‡∏î 91-100 ‚úÖ
```

---

### **5. `filter_low_confidence: true ‚Üí false`**

**‡πÄ‡∏´‡∏ï‡∏∏‡∏ú‡∏•:**
- ‡πÑ‡∏°‡πà‡∏Å‡∏£‡∏≠‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ó‡∏µ‡πà confidence ‡∏ï‡πà‡∏≥
- ‡πÄ‡∏≠‡∏≤‡∏ó‡∏∏‡∏Å‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏ó‡∏µ‡πà OCR ‡∏≠‡πà‡∏≤‡∏ô‡πÑ‡∏î‡πâ
- ‡∏ö‡∏≤‡∏á‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç‡∏°‡∏µ confidence ‡∏ï‡πà‡∏≥ (‡πÄ‡∏ä‡πà‡∏ô ‡∏ï‡∏±‡∏ß‡πÄ‡∏•‡∏Ç‡πÄ‡∏ö‡∏•‡∏≠)

**‡∏ú‡∏•‡∏Å‡∏£‡∏∞‡∏ó‡∏ö:**
- ‚è±Ô∏è ‡∏™‡πà‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÄ‡∏¢‡∏≠‡∏∞‡∏Ç‡∏∂‡πâ‡∏ô ‚Üí ‡∏ä‡πâ‡∏≤‡∏Ç‡∏∂‡πâ‡∏ô
- ‚úÖ ‡πÑ‡∏°‡πà‡∏û‡∏•‡∏≤‡∏î‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç
- ‚ö†Ô∏è ‡∏≠‡∏≤‡∏à‡∏°‡∏µ noise ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏Ç‡∏∂‡πâ‡∏ô (‡πÅ‡∏ï‡πà AI ‡∏à‡∏∞‡∏Å‡∏£‡∏≠‡∏á‡πÄ‡∏≠‡∏á)

---

### **6. `confidence_threshold: 0.5 ‚Üí 0.3`**

**‡πÄ‡∏´‡∏ï‡∏∏‡∏ú‡∏•:**
- ‡∏•‡∏î‡πÄ‡∏Å‡∏ì‡∏ë‡πå‡∏Å‡∏≤‡∏£‡∏Å‡∏£‡∏≠‡∏á (‡πÄ‡∏≠‡∏≤ confidence > 30% ‡πÅ‡∏ó‡∏ô > 50%)
- ‡∏£‡∏ß‡∏°‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ó‡∏µ‡πà‡∏≠‡∏≤‡∏à‡∏à‡∏∞‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç‡πÅ‡∏ï‡πà OCR ‡∏≠‡πà‡∏≤‡∏ô‡πÑ‡∏î‡πâ‡πÑ‡∏°‡πà‡∏ä‡∏±‡∏î

**‡∏ú‡∏•‡∏Å‡∏£‡∏∞‡∏ó‡∏ö:**
- ‚úÖ ‡πÑ‡∏î‡πâ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏°‡∏≤‡∏Å‡∏Ç‡∏∂‡πâ‡∏ô
- ‚ö†Ô∏è ‡∏≠‡∏≤‡∏à‡∏°‡∏µ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏Ç‡∏∂‡πâ‡∏ô‡πÄ‡∏•‡πá‡∏Å‡∏ô‡πâ‡∏≠‡∏¢

---

## üìà ‡∏ú‡∏•‡∏Å‡∏£‡∏∞‡∏ó‡∏ö‡πÇ‡∏î‡∏¢‡∏£‡∏ß‡∏°

### **‡πÄ‡∏ß‡∏•‡∏≤‡∏õ‡∏£‡∏∞‡∏°‡∏ß‡∏•‡∏ú‡∏•:**

| ‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô | ‡πÄ‡∏î‡∏¥‡∏° | ‡πÉ‡∏´‡∏°‡πà | ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏Ç‡∏∂‡πâ‡∏ô |
|---------|------|------|-----------|
| OCR | 2-3s | 2-3s | - |
| Prepare prompt | 0.1s | 0.3s | +0.2s |
| AI processing | 5-8s | 15-25s | +10-17s |
| JSON formatting | 0.1s | 0.2s | +0.1s |
| **Total** | **7-11s** | **17-28s** | **+10-17s** |

**‡∏™‡∏£‡∏∏‡∏õ:** ‡∏ä‡πâ‡∏≤‡∏Ç‡∏∂‡πâ‡∏ô‡∏õ‡∏£‡∏∞‡∏°‡∏≤‡∏ì **2-3 ‡πÄ‡∏ó‡πà‡∏≤** ‡πÅ‡∏ï‡πà‡πÑ‡∏î‡πâ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏Ñ‡∏£‡∏ö‡∏ñ‡πâ‡∏ß‡∏ô‡∏°‡∏≤‡∏Å‡∏Ç‡∏∂‡πâ‡∏ô

---

### **‡∏Ñ‡∏ß‡∏≤‡∏°‡∏Ñ‡∏£‡∏ö‡∏ñ‡πâ‡∏ß‡∏ô‡∏Ç‡∏≠‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•:**

| ‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• | ‡πÄ‡∏î‡∏¥‡∏° | ‡πÉ‡∏´‡∏°‡πà |
|-------------|------|------|
| ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏û‡∏∑‡πâ‡∏ô‡∏ê‡∏≤‡∏ô (HN, AN, hospital) | 95% | 98% |
| Billing items (1-5 ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£) | 90% | 95% |
| Billing items (6-10 ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£) | 70% | 90% |
| Billing items (11-20 ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£) | 40% | 85% |
| ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏´‡∏ô‡πâ‡∏≤ 2-3 | 30% | 80% |
| **Overall** | **75%** | **90%** |

**‡∏™‡∏£‡∏∏‡∏õ:** ‡∏Ñ‡∏£‡∏ö‡∏ñ‡πâ‡∏ß‡∏ô‡∏Ç‡∏∂‡πâ‡∏ô **+15%**

---

## üéØ Use Cases

### **‡πÄ‡∏´‡∏°‡∏≤‡∏∞‡∏Å‡∏±‡∏ö:**
- ‚úÖ ‡πÄ‡∏≠‡∏Å‡∏™‡∏≤‡∏£‡∏¢‡∏≤‡∏ß‡πÜ (2-3 ‡∏´‡∏ô‡πâ‡∏≤)
- ‚úÖ Billing items ‡πÄ‡∏¢‡∏≠‡∏∞ (10-20 ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£)
- ‚úÖ ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ã‡∏±‡∏ö‡∏ã‡πâ‡∏≠‡∏ô
- ‚úÖ ‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏Ñ‡∏ß‡∏≤‡∏°‡πÅ‡∏°‡πà‡∏ô‡∏¢‡∏≥‡∏™‡∏π‡∏á‡∏™‡∏∏‡∏î
- ‚úÖ ‡πÑ‡∏°‡πà‡πÄ‡∏£‡πà‡∏á‡∏£‡∏µ‡∏ö (batch processing)

### **‡πÑ‡∏°‡πà‡πÄ‡∏´‡∏°‡∏≤‡∏∞‡∏Å‡∏±‡∏ö:**
- ‚ùå Real-time processing (‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏£‡πá‡∏ß)
- ‚ùå ‡πÄ‡∏≠‡∏Å‡∏™‡∏≤‡∏£‡∏™‡∏±‡πâ‡∏ô‡πÜ (1 ‡∏´‡∏ô‡πâ‡∏≤, ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ô‡πâ‡∏≠‡∏¢)
- ‚ùå High-volume API (‡∏´‡∏•‡∏≤‡∏¢‡∏£‡πâ‡∏≠‡∏¢ requests/‡∏ô‡∏≤‡∏ó‡∏µ)

---

## üîß ‡∏Å‡∏≤‡∏£‡∏õ‡∏£‡∏±‡∏ö‡πÅ‡∏ï‡πà‡∏á‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏ï‡∏¥‡∏°

### **‡∏ñ‡πâ‡∏≤‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏Ñ‡∏£‡∏ö‡∏ñ‡πâ‡∏ß‡∏ô‡∏°‡∏≤‡∏Å‡∏Ç‡∏∂‡πâ‡∏ô‡∏≠‡∏µ‡∏Å:**

```json
{
  "ai_extraction": {
    "api": {
      "timeout": 600,           // 10 ‡∏ô‡∏≤‡∏ó‡∏µ
      "max_retries": 5,         // ‡∏•‡∏≠‡∏á‡πÉ‡∏´‡∏°‡πà 5 ‡∏Ñ‡∏£‡∏±‡πâ‡∏á
      "max_tokens": 4000        // Response ‡∏¢‡∏≤‡∏ß‡∏°‡∏≤‡∏Å
    },
    "prompt_optimization": {
      "max_ocr_results": 200,   // ‡∏™‡πà‡∏á 200 ‡∏ö‡∏£‡∏£‡∏ó‡∏±‡∏î
      "filter_low_confidence": false,
      "confidence_threshold": 0.1  // ‡πÄ‡∏≠‡∏≤‡∏ó‡∏∏‡∏Å‡∏≠‡∏¢‡πà‡∏≤‡∏á
    }
  }
}
```

**‡∏ú‡∏•‡∏Å‡∏£‡∏∞‡∏ó‡∏ö:**
- ‚è±Ô∏è ‡∏ä‡πâ‡∏≤‡∏°‡∏≤‡∏Å (30-60 ‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ ‡∏´‡∏£‡∏∑‡∏≠‡∏°‡∏≤‡∏Å‡∏Å‡∏ß‡πà‡∏≤)
- ‚úÖ ‡∏Ñ‡∏£‡∏ö‡∏ñ‡πâ‡∏ß‡∏ô‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î (95%+)
- ‚ö†Ô∏è ‡∏≠‡∏≤‡∏à‡πÄ‡∏à‡∏≠ context length error

---

### **‡∏ñ‡πâ‡∏≤‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏™‡∏°‡∏î‡∏∏‡∏• (Balanced):**

```json
{
  "ai_extraction": {
    "api": {
      "timeout": 240,           // 4 ‡∏ô‡∏≤‡∏ó‡∏µ
      "max_retries": 2,
      "max_tokens": 2000
    },
    "prompt_optimization": {
      "max_ocr_results": 60,    // 60 ‡∏ö‡∏£‡∏£‡∏ó‡∏±‡∏î
      "filter_low_confidence": false,
      "confidence_threshold": 0.4
    }
  }
}
```

**‡∏ú‡∏•‡∏Å‡∏£‡∏∞‡∏ó‡∏ö:**
- ‚è±Ô∏è ‡∏õ‡∏≤‡∏ô‡∏Å‡∏•‡∏≤‡∏á (10-15 ‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ)
- ‚úÖ ‡∏Ñ‡∏£‡∏ö‡∏ñ‡πâ‡∏ß‡∏ô‡∏î‡∏µ (85%)

---

## üß™ ‡∏Å‡∏≤‡∏£‡∏ó‡∏î‡∏™‡∏≠‡∏ö

### **Test 1: ‡πÄ‡∏≠‡∏Å‡∏™‡∏≤‡∏£‡∏™‡∏±‡πâ‡∏ô (1 ‡∏´‡∏ô‡πâ‡∏≤)**
```bash
# ‡∏Ñ‡∏ß‡∏£‡πÉ‡∏ä‡πâ‡πÄ‡∏ß‡∏•‡∏≤ ~17-20 ‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ
# ‡πÑ‡∏î‡πâ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• 95%+
```

### **Test 2: ‡πÄ‡∏≠‡∏Å‡∏™‡∏≤‡∏£‡∏¢‡∏≤‡∏ß (2-3 ‡∏´‡∏ô‡πâ‡∏≤)**
```bash
# ‡∏Ñ‡∏ß‡∏£‡πÉ‡∏ä‡πâ‡πÄ‡∏ß‡∏•‡∏≤ ~25-30 ‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ
# ‡πÑ‡∏î‡πâ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• 90%+
```

### **Test 3: Billing items ‡πÄ‡∏¢‡∏≠‡∏∞ (15-20 ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£)**
```bash
# ‡∏Ñ‡∏ß‡∏£‡πÉ‡∏ä‡πâ‡πÄ‡∏ß‡∏•‡∏≤ ~30-40 ‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ
# ‡πÑ‡∏î‡πâ billing items 85%+
```

---

## ‚ö†Ô∏è ‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏£‡∏£‡∏∞‡∏ß‡∏±‡∏á

### **1. Context Length**
- `max_ocr_results: 100` + `max_tokens: 2500` ‚âà 3500-4000 tokens
- ‡∏¢‡∏±‡∏á‡∏≠‡∏¢‡∏π‡πà‡πÉ‡∏ô‡∏Ç‡∏≠‡∏ö‡πÄ‡∏Ç‡∏ï (< 4096) ‚úÖ
- ‡πÅ‡∏ï‡πà‡πÉ‡∏Å‡∏•‡πâ limit ‡πÅ‡∏•‡πâ‡∏ß ‚ö†Ô∏è

**‡∏ñ‡πâ‡∏≤‡πÄ‡∏à‡∏≠ error:**
- ‡∏•‡∏î `max_ocr_results` ‡πÄ‡∏õ‡πá‡∏ô 80
- ‡∏´‡∏£‡∏∑‡∏≠‡∏•‡∏î `max_tokens` ‡πÄ‡∏õ‡πá‡∏ô 2000

---

### **2. Timeout**
- `timeout: 300` (5 ‡∏ô‡∏≤‡∏ó‡∏µ) ‡∏≠‡∏≤‡∏à‡πÑ‡∏°‡πà‡∏û‡∏≠‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡πÄ‡∏≠‡∏Å‡∏™‡∏≤‡∏£‡∏ã‡∏±‡∏ö‡∏ã‡πâ‡∏≠‡∏ô‡∏°‡∏≤‡∏Å
- ‡∏ñ‡πâ‡∏≤‡πÄ‡∏à‡∏≠ timeout ‚Üí ‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏õ‡πá‡∏ô 600 (10 ‡∏ô‡∏≤‡∏ó‡∏µ)

---

### **3. Cost/Performance**
- ‡∏ä‡πâ‡∏≤‡∏Ç‡∏∂‡πâ‡∏ô 2-3 ‡πÄ‡∏ó‡πà‡∏≤
- ‡πÉ‡∏ä‡πâ resources ‡∏°‡∏≤‡∏Å‡∏Ç‡∏∂‡πâ‡∏ô
- ‡πÄ‡∏´‡∏°‡∏≤‡∏∞‡∏Å‡∏±‡∏ö batch processing ‡∏°‡∏≤‡∏Å‡∏Å‡∏ß‡πà‡∏≤ real-time

---

## üìã Restart Checklist

‡∏´‡∏•‡∏±‡∏á‡πÅ‡∏Å‡πâ `config.json`:

- [x] ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡πÑ‡∏ü‡∏•‡πå
- [ ] **Restart API Server** (‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç‡∏°‡∏≤‡∏Å!)
  ```bash
  # Ctrl+C ‡πÅ‡∏•‡πâ‡∏ß‡∏£‡∏±‡∏ô‡πÉ‡∏´‡∏°‡πà
  python api_server.py
  ```
- [ ] ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö log:
  ```log
  sending 100 to AI (limit: 100)  ‚úÖ
  ```
- [ ] ‡∏ó‡∏î‡∏™‡∏≠‡∏ö extraction
- [ ] ‡∏ß‡∏±‡∏î‡πÄ‡∏ß‡∏•‡∏≤ (‡∏Ñ‡∏ß‡∏£‡∏ä‡πâ‡∏≤‡∏Ç‡∏∂‡πâ‡∏ô)
- [ ] ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏Ñ‡∏ß‡∏≤‡∏°‡∏Ñ‡∏£‡∏ö‡∏ñ‡πâ‡∏ß‡∏ô

---

## üéØ ‡∏™‡∏£‡∏∏‡∏õ

**‡∏Å‡∏≤‡∏£‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤‡πÉ‡∏´‡∏°‡πà:**
- ‚úÖ `timeout: 300s` (5 ‡∏ô‡∏≤‡∏ó‡∏µ)
- ‚úÖ `max_retries: 3`
- ‚úÖ `max_tokens: 2500`
- ‚úÖ `max_ocr_results: 100` (‡πÄ‡∏û‡∏¥‡πà‡∏° 3 ‡πÄ‡∏ó‡πà‡∏≤!)
- ‚úÖ `filter_low_confidence: false` (‡πÄ‡∏≠‡∏≤‡∏ó‡∏∏‡∏Å‡∏≠‡∏¢‡πà‡∏≤‡∏á)
- ‚úÖ `confidence_threshold: 0.3` (‡∏•‡∏î‡πÄ‡∏Å‡∏ì‡∏ë‡πå)

**‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå:**
- ‚è±Ô∏è ‡∏ä‡πâ‡∏≤‡∏Ç‡∏∂‡πâ‡∏ô 2-3 ‡πÄ‡∏ó‡πà‡∏≤ (17-28 ‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ)
- ‚úÖ ‡∏Ñ‡∏£‡∏ö‡∏ñ‡πâ‡∏ß‡∏ô‡∏Ç‡∏∂‡πâ‡∏ô +15% (90%)
- ‚úÖ ‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö‡πÄ‡∏≠‡∏Å‡∏™‡∏≤‡∏£‡∏¢‡∏≤‡∏ß (2-3 ‡∏´‡∏ô‡πâ‡∏≤)
- ‚úÖ ‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö billing items ‡πÄ‡∏¢‡∏≠‡∏∞ (15-20 ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£)

**Trade-off:**
> **‡∏¢‡∏≠‡∏°‡πÅ‡∏•‡∏Å‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏£‡πá‡∏ß‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏Ñ‡∏£‡∏ö‡∏ñ‡πâ‡∏ß‡∏ô** ‚úÖ

---

**‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï:** 10 ‡∏ï‡∏∏‡∏•‡∏≤‡∏Ñ‡∏° 2025  
**Version:** 2.2.0 - Completeness Focus

